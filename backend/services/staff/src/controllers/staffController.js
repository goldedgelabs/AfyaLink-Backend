const { PrismaClient } = require('@prisma/client'); const prisma = new PrismaClient(); exports.list = async (req,res)=>{ const list = await prisma.user.findMany({ where:{ role: 'doctor' }}).catch(()=>[]); res.json({ ok:true, data: list }); }; exports.create = async (req,res)=>{ const s = await prisma.user.create({ data: req.body }).catch(()=>null); res.json({ ok: !!s, staff: s }); };